var k=Object.defineProperty;var a=(t,e,s)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var h=(t,e,s)=>(a(t,typeof e!="symbol"?e+"":e,s),s);class A{constructor(e,s){h(this,"m");h(this,"k");h(this,"buckets");h(this,"_locations");const i=Math.ceil(e/32);let n=-1;if(this.m=e=i*32,this.k=s,typeof ArrayBuffer<"u"){const o=1<<Math.ceil(Math.log(Math.ceil(Math.log(e)/Math.LN2/8))/Math.LN2),l=o===1?Uint8Array:o===2?Uint16Array:Uint32Array,r=new ArrayBuffer(o*s),c=this.buckets=new Int32Array(i);if(e)for(;++n<i;)c[n]=e[n];this._locations=new l(r)}else{const o=this.buckets=[];if(e)for(;++n<i;)o[n]=e[n];else for(;++n<i;)o[n]=0;this._locations=[]}}locations(e){const s=this.k,i=this.m,n=this._locations,o=f(e),l=f(e,1576284489);let r=o%i;for(let c=0;c<s;++c)n[c]=r<0?r+i:r,r=(r+l)%i;return n}add(e){const s=this.locations(e);for(let i=0;i<this.k;++i)this.buckets[Math.floor(s[i]/32)]|=1<<s[i]%32}has(e){let s=this.locations(e);for(let i=0;i<this.k;++i){let n=s[i];if(!(this.buckets[Math.floor(n/32)]&1<<n%32))return!1}return!0}delete(e){const s=this.locations(e);for(let i=0;i<this.k;++i){let n=s[i];this.buckets[Math.floor(n/32)]&=~(1<<n%32)}}clear(){this.buckets.fill(0)}get size(){const e=this.buckets,s=e.length,i=this.m,n=this.k;let o=0;for(let l=0,r=s;l<r;++l)o+=b(e[l]);return-i*Math.log(1-o/i)/n}}function b(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>24}function f(t,e=0){let s=2166136261^e;for(let i=0,n=t.length;i<n;++i){let o=t.charCodeAt(i),l=o&65280;l&&(s=u(s^l>>8)),s=u(s^o&255)}return M(s)}function u(t){return t+(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}function M(t){return t+=t<<13,t^=t>>>7,t+=t<<3,t^=t>>>17,t+=t<<5,t&4294967295}export{A as B};
