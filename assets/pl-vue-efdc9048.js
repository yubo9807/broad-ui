var fe=Object.defineProperty;var le=(t,n,e)=>n in t?fe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var d=(t,n,e)=>(le(t,typeof n!="symbol"?n+"":n,e),e),dt=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var T=(t,n,e)=>(dt(t,n,"read from private field"),e?e.call(t):n.get(t)),N=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},kt=(t,n,e,r)=>(dt(t,n,"write to private field"),r?r.call(t,e):n.set(t,e),e);var C=(t,n,e)=>(dt(t,n,"access private method"),e);function Lt(){return Number((Math.random()+"").slice(2)).toString(32)}function O(...t){console.warn(...t)}function g(t){return t.length}function ut(t){return Object.prototype.toString.call(t).slice(8,-1)}function he(t){return t.toString().slice(0,5)==="class"}function Pt(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function P(t,n){if(D(t)&&D(n)){const e=Object.keys(t),r=Object.keys(n);if(g(e)!==g(r))return!1;for(const s of e)if(!r.includes(s)||!P(t[s],n[s]))return!1;return!0}else return t===n}function at(){return typeof window=="object"}function D(t){return typeof t=="object"&&t!==null}function ft(t){return F(t)||ut(t)==="Array"}function F(t){return ut(t)==="Object"}function H(t){return Array.isArray(t)}function j(t){return typeof t=="string"}function y(t){return typeof t=="function"}function q(t){Promise.resolve().then(t)}class k extends WeakMap{}function x(t,n={}){const e=new k,r=["Null","Regexp","Date","WeakSet","WeakMap"],s=Object.assign({Function(i){const o=function(...u){return i.apply(this,u)};return o.prototype=c(i.prototype),o},Set(i){const o=new Set;for(const u of i)o.add(c(u));return o},Map(i){const o=new Map;for(const[u,a]of i.entries())o.set(u,c(a));return o}},n);function c(i){if(at()&&i instanceof HTMLElement)return i.cloneNode(!0);const o=ut(i);if(!["object","function"].includes(typeof i)||r.includes(o))return i;if(e.has(i))return e.get(i);if(s[o])return s[o](i);const u=H(i)?[]:{};Object.setPrototypeOf(u,Object.getPrototypeOf(i)),e.set(i,u);for(const a in i)i.hasOwnProperty(a)&&(u[a]=c(i[a]));return u}return c(t)}function tt(t,n){return Object.assign({},t,n)}function m(t,n){let e=0;for(;e<g(t);)n(t[e],e),e++}function Vt(t,n){let e=0;for(;e<g(t);){const r=t[e];if(n(r,e))return e;e++}return-1}function Kt(t,n){const e=Vt(t,n);return t[e]}function pe(t,n,e=r=>r){let r=0,s=g(t)-1;for(;r<=s;){const c=Math.ceil((r+s)/2),i=t[c],o=e(i);if(n===o)return c;n<o?s=c-1:n>o&&(r=c+1)}return-1}let v=null;const U=new k;function lt(t){v=t,t(),v=null}function Gt(t,n){if(!v)return;const e=U.get(t)||[],r=Kt(e,s=>v===s.fn);if(r)r.s.add(n),r.s;else{const s=new Set([n]);e.push({s,fn:v}),U.set(t,e)}q(()=>null)}function $t(t,n){const e=U.get(t);e&&(m(e,(r,s)=>{r.fn(n)===!0&&delete e[s]}),U.set(t,e.filter(r=>r)))}function He(...t){function n(e){const r=pt(e);for(const s in r){const c=r[s];D(c)&&n(c)}U.delete(r)}m(t,n)}function Jt(t){for(const n in t){Gt(t,n);const e=t[n];ft(e)&&Jt(e)}}const Tt=Symbol("__v_raw"),Nt=Symbol("__v_isRef"),At=Symbol("__v_isShallow"),Dt=Symbol("__v_isShallowBest"),wt=Symbol("__v_isReadonly");function Et(t,n={}){const e=n.readonly,r=n.shallowBest,s=n.shallow;e&&Reflect.defineProperty(t,wt,{value:!0});const c=new Set;return new Proxy(t,{get(i,o,u){if(o===Tt)return i;const a=Reflect.get(i,o);return e?a:s?(Jt(i),a):(Gt(i,o),r?a:ft(a)?Et(a,n):a)},set(i,o,u,a){if(i[wt])return!0;const f=Reflect.get(i,o);if(e)return O(`Set operation on key '${o.toString()}' failed: target is readonly.`,{[o.toString()]:f}),!0;if(P(f,u))return!0;const p=Reflect.set(i,o,u);c.add(o);const l=c.size;return q(()=>{if(l<c.size)return;const b=Reflect.get(i,o);p&&!P(f,b)&&$t(i,c),c.clear()}),p},deleteProperty(i,o){if(!Pt(i,o))return!0;const u=Reflect.get(i,o);if(e)return O(`Delete operation on key '${o.toString()}' failed: target is readonly.`,{[o.toString()]:u}),!0;const a=Reflect.deleteProperty(i,o);c.add(o);const f=c.size;return q(()=>{if(f<c.size)return;const p=Pt(i,o),l=Reflect.get(i,o);a&&!p&&!P(u,l)&&$t(i,c),c.clear()}),a}})}const de=new k;function ht(t){return!ft(t)||Object.isFrozen(t)?(O(`lue cannot be made reactive: ${t}`),t):de.get(t)?t:Et(t)}function me(t){return D(t)&&!!t[Tt]}function pt(t){return me(t)?t[Tt]:t}var Le,Pe,$e;class ge{constructor(n,e=0){d(this,Le,!0);d(this,Pe,!1);d(this,$e,!1);d(this,"_rawValue");d(this,"_value");const r=e===1,s=e===2;this[At]=r,this[Dt]=s,this._rawValue=n,this._value=Et({value:n},{shallow:r,shallowBest:s})}get value(){return this._value.value}set value(n){this._rawValue=n,this._value.value=n}}Le=Nt,Pe=At,$e=Dt;function Qt(t=void 0){return new ge(t)}function ve(t){return t&&!!t[Nt]}function Be(t){const n={value:t},e=ht(n);function r(){return e.value}function s(c){e.value=c}return[r,s,n]}class ye{constructor(n){d(this,"fn");d(this,"computed");d(this,"active",!0);this.fn=n,this.computed=Qt(n()),this.scheduler()}scheduler(){lt(()=>{if(!this.active)return!0;this.computed.value=this.run()})}run(){return this.fn()}stop(){this.active=!1}}var Ae,De;class It{constructor(n,e,r=!1){d(this,Ae,!0);d(this,De,!0);d(this,"_cacheable",!0);d(this,"effect");d(this,"_setter");d(this,"_value");d(this,"_dirty");this.effect=new ye(n),this._setter=e,this._dirty=r}get value(){return this._dirty?this.effect.computed.value:this.effect.fn()}set value(n){this._setter?this._setter(n):O("Write operation failed: computed value is readonly")}}Ae=wt,De=Nt;function We(t){return y(t)?new It(t,null,!0):new It(t.get,t.set,!0)}function we(t,n,e={}){let r=!1;if(r)return;const s=t();e.immediate&&n(s,void 0);let c=x(s),i=!0;return lt(()=>{if(r)return!0;const o=t();if(ft(o)){e.deep&&!P(o,c)&&(n(o,c),c=x(o));return}if(i){i=!1;return}o!==c&&(n(o,c),c=o)}),()=>{r=!0,c=t=n=e=null}}function $(t){return["string","number"].includes(typeof t)&&t!==""}function Yt(t){return!/^on/.test(t)}function be(t){return F(t)&&j(t.tag)}function R(t){return y(t)&&!B(t)}function Xt(t){return he(t)&&t.prototype&&t.prototype.render}function bt(t){return[void 0,null,"",!0,!1].includes(t)}function St(...t){const n=[];return m(t,e=>{y(e)&&(e=e()),$(e)&&n.push(e)}),n.join(" ").trim().replace(/\s+/," ")}function mt(t){return document.createTextNode(t)}function I(t,n){t.appendChild(n)}function w(t,n,...e){const r={tag:t,attrs:n||{},children:e};return R(r.tag)&&g(r.children)===0&&r.attrs.children&&(r.children=r.attrs.children),r}function L({children:t}){return t}const et=Symbol("Fragment");L.prototype[et]=et;function B(t){return y(t)&&t.prototype&&t.prototype[et]===et}const Q=new k;function Zt(t,n=[]){return m(t,e=>{D(e)&&(R(e.tag)?(n.push({comp:e.tag,props:tt(e.attrs,{children:t})}),m(e.children,r=>{R(r)&&n.push({comp:r,props:{}})})):$(e.tag)&&Zt(e.children,n))}),n}function Ft(t,n=[]){const e=Q.get(t)||[];return n.push(...e),m(e,r=>{const s=Ft(r.comp);n.push(...s)}),n}let nt=null;function Se(t){nt=t}let Rt=null;function qe(t){Rt=t}function Re(t,n){nt=t,"ref"in n&&(n.ref.value=Rt),Rt=null}let Ot=!1;function Ht(t){Ot=t}const vt=[];function xe(){m(vt,t=>t()),vt.length=0}const xt=[];let te=!1;function Ue(t){if(!Ot){if(te){q(t);return}xt.push(t)}}function Ce(){m(xt,t=>t()),xt.length=0,te=!0}const rt=new k;function ze(t){if(Ot)return;const n=rt.get(nt)||[];n.some(r=>r===t)||(n.push(t),rt.set(nt,n))}function Bt(t){const n=Ft(t).map(r=>r.comp);n.unshift(t);const e=[];m(n,r=>{const s=rt.get(r)||[];e.push(...s),rt.delete(r)}),m(e,r=>r())}const Wt=new k;function qt(t){const n=Ft(t).map(r=>r.comp);n.unshift(t);const e=[];m(n,r=>{const s=Wt.get(r)||[];e.push(...s),Wt.delete(r)}),m(e,r=>r())}class _e{constructor(){}intercept(n){return n}renderToString(n){Ht(!0);const e=this.createHTML(n);return Ht(!1),e}createHTML(n){const{tag:e,attrs:r,children:s}=this.intercept(n);if(B(e)){const o=tt(r,{children:s}),u=e(o);return this.createHTMLFragment(u)}if(R(e)){if(Xt(e)){const a=new e({...r,children:s});return this.createHTML(a.render.bind(a))}const o=tt(r,{children:s}),u=e(o);return this.createHTML(u)}let c="";for(const o in r){if(o.startsWith("on")||["ref","created"].includes(o))continue;let u=y(r[o])&&Yt(o)?r[o]():r[o];if(j(e)&&["innerHTML","innerText","textContent"].includes(o)){s[0]=u;continue}if(o==="className"){u&&(c+=` class="${St(...[u].flat())}"`);continue}if(o==="style"&&F(u)){for(const a in u)y(u[a])&&(u[a]=u[a]());u='"'+JSON.stringify(u).slice(1,-1).replace(/"/g,"").replace(/,/g,";")+'"'}c+=` ${o}="${u}"`}const i=this.createHTMLFragment(s);return`<${e}${c}>${i}</${e}>`}createHTMLFragment(n){let e="";return m(n,r=>{if(!bt(r)){if($(r)){e+=r.toString();return}if(H(r)){e+=this.createHTMLFragment(r);return}if(y(r)){const s=r();e+=this.createHTMLFragment([s]);return}if(F(r)){e+=this.createHTML(r);return}O(`renderToString: 不支持 ${r} 值渲染`)}}),e}}var M,V,Ct,A,Y,it,ne,ct,re;class ee extends _e{constructor(e){super();N(this,V);N(this,A);N(this,it);N(this,ct);N(this,M,void 0);kt(this,M,e.binding)}render(e){const r=this.createElement(e);return xe(),q(Ce),r}createElement(e){const{tag:r,attrs:s,children:c}=this.intercept(e);if(j(r))return this.createRealNode(r,s,c);if(B(r))return this.createNodeFragment(c);if(R(r))return this.createComponent(r,s,c)}createComponent(e,r,s){if(Se(e),Xt(e)){const o=new e({...r,children:s});e=o.render.bind(o)}const c=tt(r,{children:s}),i=e(c);return Re(e,r),$(i)?mt(i):(Q.set(e,Zt([i,...i.children])),this.createElement(i))}createRealNode(e,r={},s=[""]){const c=document.createElement(e),i=r.created;if(y(i)){const o=Vt(s,u=>u===i);o>=0&&s.splice(o,1)}m(s,o=>{const u=this.intercept(o);if(y(u)){const a=this.createNodeFragment([u]);I(c,a)}else C(this,V,Ct).call(this,c,u)});for(const o in r)C(this,it,ne).call(this,c,o,r[o]);if(r.style&&F(r.style))for(const o in r.style){const u=r.style[o];y(u)?T(this,M).call(this,()=>c.style.setProperty(o,u())):c.style[o]=u}return c}createNodeFragment(e){const r=document.createDocumentFragment();return m(e,s=>{const c=this.intercept(s);y(c)?C(this,ct,re).call(this,r,c):C(this,V,Ct).call(this,r,c)}),r}}M=new WeakMap,V=new WeakSet,Ct=function(e,r){if(!bt(r)){if(H(r)){const s=this.createNodeFragment(r);I(e,s);return}if($(r)||F(r)){const s=C(this,A,Y).call(this,r);I(e,s);return}O(`render: 不支持 ${r} 值渲染`)}},A=new WeakSet,Y=function(e){if($(e))return mt(e);if(be(e))return this.createRealNode(e.tag,e.attrs,e.children);if(B(e.tag))return this.createNodeFragment(e.children);if(R(e.tag))return this.createComponent(e.tag,e.attrs,e.children)},it=new WeakSet,ne=function(e,r,s){if(r==="ref"&&F(s)){s.value=e;return}if(r==="created"&&y(s)){s(e);return}if(r==="className"&&H(s)){T(this,M).call(this,()=>{e[r]=St(...s)});return}let c=i=>e[r]=i;r==="className"?c=i=>e[r]=St(i):r.startsWith("data-")&&(c=i=>e.dataset[r.slice(5)]=i),Yt(r)&&y(s)?T(this,M).call(this,()=>c(s())):c(s)},ct=new WeakSet,re=function(e,r){let s=[],c=!0,i=null;const o=mt("");I(e,o),T(this,M).call(this,()=>{let u=r();if(u&&D(u)&&B(u.tag)){O("不支持响应式节点片段渲染");return}H(u)||(u=[u]),u=u.filter(f=>!bt(f));let a=0;for(;a<g(u);){let f=u[a];const p=pe(s,a,l=>l.key);if(p>=0){if(P(f,s[p].tree)){a++;continue}const l=C(this,A,Y).call(this,f);if(!l){u.splice(p,1),a++;continue}const b=s[p].tree;if(R(b.tag)&&Bt(b.tag),s[p].node.parentElement.replaceChild(l,s[p].node),R(b.tag)){const G=b.tag;qt(G),Q.delete(G)}s[p].tree=f,s[p].node=l}else{const l=C(this,A,Y).call(this,f);if(!l){a++;continue}if(c)I(e,l);else if(g(s)===0)i??(i=o.parentElement),i.insertBefore(l,o.nextSibling);else{const b=s[g(s)-1].node,G=b.nextSibling;b.parentElement.insertBefore(l,G)}s.push({key:a,tree:f,node:l})}a++}if(g(s)>g(u)){for(let f=g(u);f<g(s);f++){const p=s[f].tree;if(R(p.tag)&&Bt(p.tag),s[f].node.remove(),R(p.tag)){const l=p.tag;qt(l),Q.delete(l)}}s.splice(g(u),g(s)-g(u))}c=!1})};var K;class Me extends ee{constructor(e){super(e);d(this,"version","0.6.10");N(this,K,new Map);this.option=e}use(e){return e.install(this),this}intercept(e){if(e&&j(e.tag)){const r=T(this,K).get(e.tag);r&&(e.tag=r)}return e}component(e,r){return T(this,K).set(e,r),this}}K=new WeakMap;function Ve(){return new Me({binding:lt})}function Te(t){return new ee({binding:lt}).render(t)}function Ke(t,n){return Te(w(t,n))}function Ne(t){const n={};return t.replace(/([^?&=]+)=([^&]+)/g,(e,r,s)=>n[r]=s),n}function X(t){const n=new URL("http://0.0.0.0"+t);return{fullPath:n.href.replace(n.origin,""),path:n.pathname,query:Ne(n.search),hash:n.hash,meta:{}}}function se(t){let n="";for(const r in t.query)t.query[r]&&(n+=`${r}=${t.query[r]}&`);n=n?"?"+n.slice(0,-1):"";let e=t.hash?"#"+t.hash:"";return t.path+n+e}function Z(t){return t.replace(/\/{1,}/g,"/")}function oe(t,n){j(t)&&(S.mode==="history"&&(t=S.base+t),t=X(t));for(const r in t)h[r]=t[r];const e=se(h);h.fullPath=e,at()&&(S.mode==="history"?history[n==="push"?"pushState":"replaceState"]({},"",e):location.hash=e)}function ie(t){oe(t,"push")}function ce(t){oe(t,"replace")}function gt(t){history.go(t)}function Ee(){return{back:()=>gt(-1),forward:()=>gt(1),go:gt,push:ie,replace:ce,options:S,currentRoute:pt(h)}}function ue(){return h}const S={base:"",mode:"history",ssrDataKey:"g_initialProps"};let ae=null,h=null;function Ut(){const{origin:t,href:n,hash:e}=location;return S.mode==="hash"?e.replace("#",""):n.replace(t+S.base,"")}let z=null;function Ge(t={}){if(Object.assign(S,t),at()){const e=X(Ut());h=ht(e),window.addEventListener("popstate",()=>{const r=X(Ut());for(const s in r)h[s]=r[s]})}else h=X("");const n=Ee();return{install(e){ae=e,e.$router=n,e.$route=ue()},...n,beforeEach(e){z=e}}}const st={currentTemplate:"",ssrData:{}};function Je(t){}function jt(t,n){n=n.replace(S.base,"");const e=Kt(t,u=>{const{path:a,exact:f}=u.attrs;return f===!1?(n+"/").startsWith(Z(a+"/")):Z(a)===n});if(!e)return;const{path:r,component:s,beforeEnter:c,meta:i,redirect:o}=e.attrs;return o?jt(t,o):{path:Z(r),component:s,meta:i,beforeEnter:c}}let E;const zt=[];function Fe(t){const n=Qt(t.loading);let e={};function r(c){const i=jt(t.children,c);if(!i){e={},n.value=t.notFound;return}async function o(){if(i.component.prototype||(i.component=(await i.component()).default),n.value===i.component)return;e.path=i.path;const a=Mt(i.component);if(a){const f=window[S.ssrDataKey];f&&e.path in f?(e.data=f[e.path],delete f[e.path]):e.data=await a(x(e))}n.value=i.component,e.meta=i.meta,h.meta=i.meta}function u(a){a(pt(h),E,()=>{E=x(h),c===h.path?o():r(h.path)})}if(z){u(z);return}if(i.beforeEnter){u(i.beforeEnter);return}E=x(h),o()}const s=we(()=>h.path,c=>{if(E){const i=E.path.split("/"),o=c.split("/");i[1]!==o[1]&&m(zt,u=>u())}r(c)},{immediate:!0});return t.prefix&&zt.push(s),w(L,null,()=>n.value&&w(n.value,{...e}))}const W=ht([]);function _t(t){const n=W.indexOf(t);W.splice(n,1)}let _=null;function Oe(t){function n(o){let u=jt(t.children,o);if(!u)return;h.path=u.path;function a(f){return _=`b_${Lt()}`,W.push(_),f(pt(h),E,()=>{E=x(h),J(_,u.component,{path:u.path,meta:u.meta}),_t(_)}),_}return z?a(z):u.beforeEnter?a(u.beforeEnter):u}let e=n(h.path);if(j(e))return w(L,null,e);if(!e){const o=t.notFound;return w(o||L,null)}e=e;let r=e.component;h.path=e.path,h.meta=e.meta;const s={path:e.path,meta:e.meta};_&&(J(_,r,s),_t(_));const c=`r_${Lt()}`;if(!r.prototype)return W.push(c),r().then(async o=>{r=o.default;const u=Mt(r);u&&(s.data=await u(x(s)),st.ssrData[s.path]=s.data),J(c,r,s)}),w(L,null,c);const i=Mt(r);return i?(W.push(c),i(x(s)).then(o=>{s.data=o,st.ssrData[s.path]=o,J(c,r,s)}),w(L,null,c)):w(r,{...s})}function Qe(t){return m(t.children,n=>{t.prefix&&(n.attrs.path=Z(t.prefix+n.attrs.path)),n.children=[n.attrs.component]}),at()?w(Fe,{...t}):w(Oe,{...t})}function J(t,n,e){const r=ae.renderToString(w(n,{...e}));_t(t);const s=st.currentTemplate.replace(t,r);st.currentTemplate=s}function Mt(t){const{getInitialProps:n}=t.prototype;if(n&&y(n))return n}function Ye(t){const{to:n,type:e,className:r,children:s,onClick:c,...i}=t,o=ue();j(n)||(t.to=se(Object.assign({},o,n)));const u=S.mode==="hash"?`${S.base}#${t.to}`:S.base+t.to;function a(p){p.preventDefault();function l(b=t.to){e==="replace"?ce(b):ie(b)}c?c(t.to,l):l()}const f=t.to+"/";return w("a",{className:[()=>(o.path+"/").startsWith(f)&&"active",()=>o.path+"/"===f&&"exact-active",...[r].flat()],href:u,onclick:a,...i},s)}const ot=Symbol("action");function je(t){return y(t)&&t.prototype[ot]===ot}class ke{constructor(n,e){d(this,"state");d(this,"actions",{});this.state=ht(x(n));for(const r in e){let c=function(...i){const o=e[r].bind(n)(...i);return ut(o)==="Promise"?o.then(u=>(s._merge(n),u)):(s._merge(n),o)};const s=this;c.prototype[ot]=ot,s.actions[r]=c}Object.assign(this.state,this.actions);for(const r in this.actions)Object.defineProperty(this.state,r,{writable:!1})}_merge(n){const e=x(n),r=Object.keys(e);for(const s in e)this.state[s]=e[s];for(const s in this.state)je(this.state[s])||!r.includes(s)&&delete this.state[s]}}const yt=new k;function Xe(t){const{id:n,state:e,actions:r}=t;return()=>{if(!yt.has(e)){const s=new ke(e,r);yt.set(e,s.state)}return yt.get(e)}}export{L as F,Ye as L,Qe as R,Te as a,at as b,We as c,Xe as d,He as e,ze as f,Je as g,w as h,ve as i,x as j,Ve as k,Ge as l,ht as m,q as n,Ue as o,Ke as p,qe as q,Qt as r,Be as s,ue as u,we as w};
