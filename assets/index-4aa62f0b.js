import{i as r,r as o,w as h,h as l,o as f,q as m}from"./pl-vue-9a5e3e23.js";import{e as v}from"./index-28d7c986.js";function N(e){e=Object.assign({row:2,unfold:"展开",fold:"收起"},e);const n=r(e.model)?e.model:o(e.model),c=o(!1),a=o(!1),i=o(),u=o();let s;f(()=>{s=getComputedStyle(i.value),d()}),h(()=>n.value,()=>{d()}),f(()=>{const t=v(s.getPropertyValue("--line-height"));u.value.offsetHeight<t*e.row&&(c.value=!0)});function d(){const t=v(s.getPropertyValue("font-size"));c.value=t*n.value.length<i.value.offsetWidth*e.row-e.unfold.length*t}return m({setModel(t){n.value=t},setOpen(t){a.value=t}}),l("div",{ref:i,className:"br-unfold-text"},()=>c.value?l("div",null,()=>n.value):l("div",{className:()=>["wrap",!a.value&&"is-open"],style:`--row: ${e.row}`},()=>!a.value&&l("div",{className:"btn"},"...",l("span",{className:"open",onclick:()=>a.value=!0,created:e.childUnfold},e.unfold)),l("div",{ref:u,className:"content"},()=>n.value),()=>a.value&&l("div",{className:"close",onclick:()=>a.value=!1,created:e.childFold},e.fold)))}export{N as U};
