import{r as a,e as d,k as r,h as l}from"./pl-vue-2c9f6500.js";import{c as v}from"./index-09f57008.js";function x(e){e=Object.assign({row:2,unfold:"展开",fold:"收起"},e);const o=a(e.text),u=a(!1),n=a(!1),c=a(),i=a();let s;d(()=>{s=getComputedStyle(c.value),f()}),d(()=>{const t=v(s.getPropertyValue("--line-height"));i.value.offsetHeight<t*e.row&&(u.value=!0)});function f(){const t=v(s.getPropertyValue("font-size"));u.value=t*o.value.length<c.value.offsetWidth*e.row-e.unfold.length*t}return r({setText(t){o.value=t,f()},setOpen(t){n.value=t}}),l("div",{ref:c,className:"unfold-text"},()=>u.value?l("div",null,()=>o.value):l("div",{className:()=>["wrap",!n.value&&"is-open"],style:`--row: ${e.row}`},()=>!n.value&&l("div",{className:"btn"},"...",l("span",{className:"open",onclick:()=>n.value=!0,created:e.unfoldEl},e.unfold)),l("div",{ref:i,className:"content"},()=>o.value),()=>n.value&&l("div",{className:"close",onclick:()=>n.value=!1,created:e.foldEl},e.fold)))}export{x as U};
